[{"C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\index.js":"1","C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\reportWebVitals.js":"2","C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\App.js":"3","C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\components\\main.js":"4","C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\components\\write.js":"5","C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\components\\article_page.js":"6","C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\data\\color.js":"7","C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\components\\article_view.js":"8"},{"size":964,"mtime":1607342891845,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"11","hashOfConfig":"10"},{"size":684,"mtime":1607522274734,"results":"12","hashOfConfig":"10"},{"size":1855,"mtime":1607522521916,"results":"13","hashOfConfig":"10"},{"size":5030,"mtime":1607520394278,"results":"14","hashOfConfig":"10"},{"size":3120,"mtime":1607520774384,"results":"15","hashOfConfig":"10"},{"size":440,"mtime":1607463222171,"results":"16","hashOfConfig":"10"},{"size":948,"mtime":1607522093989,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"10oa8h2",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\index.js",[],["36","37"],"C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\reportWebVitals.js",[],"C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\App.js",[],"C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\components\\main.js",["38"],"C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\components\\write.js",[],"C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\components\\article_page.js",["39"],"import React from \"react\";\r\n\r\n// import * as firebase from \"firebase/app\";\r\n// import \"firebase/database\";\r\n\r\n// import { NavLink } from \"react-router-dom\";\r\n\r\nimport \"../styles/WriteArticle.css\";\r\n\r\nclass ArticlePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n\r\n    this.TextRef = React.createRef();\r\n    this.TitleRef = React.createRef();\r\n\r\n    this.articleId = \"\";\r\n\r\n    this.DeleteStyles = this.DeleteStyles.bind(this);\r\n    this.setProgress = this.setProgress.bind(this);\r\n    this.saveArticle = this.saveArticle.bind(this);\r\n    this.updateArticle = this.updateArticle.bind(this);\r\n    this.articleChanged = this.articleChanged.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let id = this.props.id;\r\n    let len = this.props.articles.length;\r\n\r\n    if (!id) {\r\n      id = len + 1;\r\n    }\r\n\r\n    this.articleId = id;\r\n  }\r\n\r\n  DeleteStyles(event) {\r\n    event.preventDefault();\r\n    let text = (event.originalEvent || event).clipboardData.getData(\r\n      \"text/plain\"\r\n    );\r\n    document.execCommand(\"insertText\", false, text);\r\n  }\r\n\r\n  setProgress() {\r\n    let text = this.TextRef.current.innerText;\r\n    let len = text.length;\r\n\r\n    this.props.onProgress(len);\r\n\r\n    this.articleChanged();\r\n  }\r\n\r\n  saveArticle(obj) {\r\n    let openRequest = indexedDB.open(obj.store, 1);\r\n\r\n    openRequest.onupgradeneeded = () => {\r\n      let DB = openRequest.result;\r\n      if (!DB.objectStoreNames.contains(obj.store)) {\r\n        DB.createObjectStore(obj.store);\r\n      }\r\n    };\r\n\r\n    openRequest.onerror = function () {\r\n      console.error(\"Can't create DB\", openRequest.error);\r\n    };\r\n\r\n    openRequest.onsuccess = () => {\r\n      let DB = openRequest.result;\r\n\r\n      let tx = DB.transaction(obj.store, \"readwrite\");\r\n      let store = tx.objectStore(obj.store);\r\n\r\n      store.put(obj.data, obj.key);\r\n    };\r\n  }\r\n\r\n  updateArticle() {\r\n    let title = this.TitleRef.current.value;\r\n    let text = this.TextRef.current.innerText;\r\n    let progress = this.props.progress;\r\n    let len = text.length;\r\n\r\n    let data = {\r\n      title,\r\n      text,\r\n      progress,\r\n    };\r\n\r\n    let obj = {\r\n      store: \"may-articles\",\r\n      key: \"articles\",\r\n      data,\r\n    };\r\n\r\n    this.saveArticle(obj);\r\n  }\r\n\r\n  articleChanged() {\r\n    let len = this.TextRef.current.innerText.length;\r\n\r\n    if (len % 10 === 0) this.updateArticle();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div\r\n          className=\"ArticlePage\"\r\n          style={{ backgroundColor: this.props.color }}\r\n        >\r\n          <textarea\r\n            type=\"text\"\r\n            className=\"ArticlePageTitle\"\r\n            rows=\"2\"\r\n            ref={this.TitleRef}\r\n            placeholder=\"Заголовок статьи\"\r\n          ></textarea>\r\n          <div\r\n            className=\"ArticlePageText\"\r\n            contentEditable=\"true\"\r\n            placeholder=\"Текст\"\r\n            ref={this.TextRef}\r\n            onPaste={this.DeleteStyles}\r\n            onInput={this.setProgress}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ArticlePage;\r\n","C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\data\\color.js",[],"C:\\Users\\влад акробат\\Desktop\\may_articles\\may_articles\\src\\components\\article_view.js",[],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":3,"column":13,"nodeType":"46","messageId":"47","endLine":3,"endColumn":21},{"ruleId":"44","severity":1,"message":"48","line":83,"column":9,"nodeType":"46","messageId":"47","endLine":83,"endColumn":12},"no-native-reassign",["49"],"no-negated-in-lhs",["50"],"no-unused-vars","'firebase' is defined but never used.","Identifier","unusedVar","'len' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]